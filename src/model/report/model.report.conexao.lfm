object dmConexaoReport: TdmConexaoReport
  OnCreate = DataModuleCreate
  OldCreateOrder = False
  Height = 500
  HorizontalOffset = 349
  VerticalOffset = 250
  Width = 1066
  object frReport: TfrReport
    Dataset = frDBDataSet
    InitialZoom = pzPageWidth
    Options = []
    PreviewButtons = [pbZoom, pbSave, pbPrint, pbFind, pbExit, pbSettings, pbPageSetup]
    DataType = dtDataSet
    Title = 'Relatório'
    Left = 24
    Top = 16
  end
  object frDBDataSet: TfrDBDataSet
    DataSet = qryPadrao
    Left = 32
    Top = 80
  end
  object qryPadrao: TSQLQuery
    MaxIndexesCount = 4
    FieldDefs = <    
      item
        Name = 'TOTAL_DEPESA'
        DataType = ftBCD
        Precision = 16
        Size = 2
      end    
      item
        Name = 'TOTAL_RECEBIMENTO'
        DataType = ftBCD
        Precision = 16
        Size = 2
      end    
      item
        Name = 'MES'
        DataType = ftSmallint
        Precision = -1
      end    
      item
        Name = 'ANO'
        DataType = ftSmallint
        Precision = -1
      end    
      item
        Name = 'ID_DONO_CADASTRO'
        DataType = ftInteger
        Precision = -1
      end    
      item
        Name = 'NOME_MES'
        DataType = ftFixedChar
        Precision = -1
        Size = 9
      end>
    Database = SQLConnector
    Transaction = SQLTransaction
    SQL.Strings = (
      'select sum(total_depesa) AS total_depesa, sum(total_recebimento) AS total_recebimento, mes, ano, id_dono_cadastro,'
      '              (case when mes = 1 then ''Janeiro'' else'
      '              (case when mes = 2 then ''Fevereiro'' else'
      '              (case when mes = 3 then ''Março'' else'
      '              (case when mes = 4 then ''Abril'' else'
      '              (case when mes = 5 then ''Maio'' else'
      '              (case when mes = 6 then ''Junho'' else'
      '              (case when mes = 7 then ''Julho'' else'
      '              (case when mes = 8 then ''Agosto'' else'
      '              (case when mes = 9 then ''Setembro'' else'
      '              (case when mes = 10 then ''Outubro'' else'
      '              (case when mes = 11 then ''Novembro'' else'
      '              (case when mes = 12 then ''Dezembro'''
      '               end) end) end) end) end) end) end) end) end) end) end) end) as nome_mes FROM'
      '(select sum(total) as total_depesa, 0 AS total_recebimento, extract(month from data) as mes,'
      '              extract(year from data) as ano,'
      '              id_dono_cadastro from despesa'
      '              WHERE paga'
      '              group by mes, ano, id_dono_cadastro'
      'union all'
      'select 0 as total_depesa, sum(valor_total) AS total_recebimento, extract(month from data) as mes,'
      '              extract(year from data) as ano, id_dono_cadastro from recebimento'
      '              group by mes, ano, id_dono_cadastro ) s1'
      'group by mes, ano, nome_mes, id_dono_cadastro'
      'having ano = 2025 and'
      'id_dono_cadastro = 1'
      'order by mes asc'
    )
    Params = <>
    Macros = <>
    Left = 112
    Top = 80
  end
  object frTNPDFExport: TfrTNPDFExport
    Left = 104
    Top = 16
  end
  object frCSVExport: TfrCSVExport
    Left = 188
    Top = 16
  end
  object frTextExport: TfrTextExport
    ShowExportParamsDlg = False
    Left = 264
    Top = 16
  end
  object SQLConnector: TSQLConnector
    Connected = False
    LoginPrompt = False
    DatabaseName = 'D:\Projetos\vrbDespesas\database\DESPESA.FDB'
    KeepConnection = False
    Params.Strings = (
      'Port=3070'
    )
    Password = 'adm*3030'
    Transaction = SQLTransaction
    UserName = 'SYSDBA'
    HostName = '127.0.0.1'
    ConnectorType = 'Firebird'
    Left = 40
    Top = 152
  end
  object SQLDBLibraryLoader: TSQLDBLibraryLoader
    Enabled = False
    ConnectionType = 'Firebird'
    LibraryName = 'D:\Projetos\Lazarus\vrbDespesas\exe\fbclient.dll'
    Left = 152
    Top = 152
  end
  object SQLTransaction: TSQLTransaction
    Active = False
    Action = caNone
    Database = SQLConnector
    Left = 272
    Top = 152
  end
  object frDesigner: TfrDesigner
    Left = 344
    Top = 16
  end
  object frShapeObject: TfrShapeObject
    Left = 424
    Top = 16
  end
  object frCheckBoxObject: TfrCheckBoxObject
    Left = 528
    Top = 16
  end
end
